# ContratoRÃ¡pido - Production Environment Variables
# Used by docker-compose.coolify.yml

# =================================
# PostgreSQL Configuration (n8n internal)
# =================================
POSTGRES_DB=n8n
# SERVICE_USER_POSTGRES and SERVICE_PASSWORD_POSTGRES 
# are automatically set by Coolify

# =================================
# MongoDB Configuration (conversation data)
# =================================
MONGO_ROOT_USER=contratorapido
MONGO_ROOT_PASSWORD=your-secure-mongo-password-here
MONGO_DATABASE=contratorapido

# MongoDB Connection String for n8n MongoDB nodes
MONGODB_CONNECTION_STRING=mongodb://contratorapido:your-secure-mongo-password-here@mongodb:27017/contratorapido?authSource=admin&replicaSet=rs0

# =================================
# Redis Configuration (queue & cache)
# =================================
REDIS_PASSWORD=your-secure-redis-password-here

# =================================
# Timezone Configuration
# =================================
GENERIC_TIMEZONE=America/Sao_Paulo
TZ=America/Sao_Paulo

# =================================
# n8n Configuration
# =================================
# Queue mode settings
N8N_EXECUTIONS_MODE=queue
N8N_WORKERS_CONCURRENCY=2

# Webhook and editor URLs (set by Coolify)
# N8N_EDITOR_BASE_URL=${SERVICE_FQDN_N8N}
# WEBHOOK_URL=${SERVICE_FQDN_N8N}

# Security
N8N_SECURE_COOKIE=true
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true

# Performance
N8N_PAYLOAD_DEFAULT_MAX_SIZE=16
N8N_METRICS=true

# Data retention
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168

# =================================
# WhatsApp Business API Configuration (CR-002)
# =================================
# Set these after completing WhatsApp Business API setup
WHATSAPP_TOKEN=your-whatsapp-access-token
WHATSAPP_VERIFY_TOKEN=your-webhook-verify-token
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-business-account-id

# =================================
# OpenAI Configuration (CR-006)
# =================================
# Set these for GPT-4 integration
OPENAI_API_KEY=your-openai-api-key
OPENAI_ORG_ID=your-openai-org-id

# GPT-4 Model Configuration
OPENAI_MODEL_MAIN=gpt-4-turbo-preview
OPENAI_MODEL_FALLBACK=gpt-3.5-turbo
OPENAI_MAX_TOKENS=4000
OPENAI_TEMPERATURE=0.3

# =================================
# Application Configuration
# =================================
# Brazilian Portuguese settings
APP_TIMEZONE=America/Sao_Paulo
APP_LANGUAGE=pt-BR
APP_CURRENCY=BRL

# Rate limiting
RATE_LIMIT_MESSAGES_PER_MINUTE=5
RATE_LIMIT_COOLDOWN_MINUTES=5

# PDF Generation
PDF_GENERATION_TIMEOUT=30
PDF_MAX_FILE_SIZE=10MB

# =================================
# Monitoring & Logging
# =================================
LOG_LEVEL=info
LOG_OUTPUT=console
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true

# =================================
# Security
# =================================
# Generate secure random strings for production
JWT_SECRET=your-jwt-secret-here
ENCRYPTION_KEY=your-32-char-encryption-key-here

# LGPD Compliance
ENABLE_DATA_ENCRYPTION=true
DATA_RETENTION_DAYS=90
AUDIT_LOG_ENABLED=true